webpackJsonp([1],{JBnA:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[t("div",{staticClass:"container"},[t("router-link",{staticClass:"navbar-brand mr-4",attrs:{to:"/"}},[this._v("Users Manager")]),this._v(" "),this._m(0),this._v(" "),t("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[t("nav",{staticClass:"navbar-nav"},[t("router-link",{staticClass:"nav-item nav-link",attrs:{"active-class":"active",to:{path:"/users/new"},exact:""}},[this._v("\n          Add User\n        ")]),this._v(" "),t("router-link",{staticClass:"nav-item nav-link",attrs:{"active-class":"active",to:{path:"/users"},exact:""}},[this._v("\n          Users\n        ")])],1)])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggler",attrs:{"data-toggle":"collapse","data-target":"#navbarNav","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])}]},n={name:"App",components:{Navbar:s("VU/8")(null,r,!1,null,null,null).exports}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Navbar"),this._v(" "),t("div",{staticClass:"container mt-4"},[t("router-view")],1)],1)},staticRenderFns:[]},l=s("VU/8")(n,i,!1,null,null,null).exports,o=s("NYxO"),u=s("Gu7T"),c=s.n(u),m={setUsers:function(e,t){return e.users=t},addUser:function(e,t){return e.users=[].concat(c()(e.users),[t])},deleteUser:function(e,t){return e.users=e.users.filter(function(e){return e._id!==t})},updateUser:function(e,t){return e.users.map(function(e){return e.id===t.id?t:e})}},d=s("Xxa5"),v=s.n(d),p=s("exGp"),f=s.n(p),h=s("mtWM"),g=s.n(h),_=g.a.create({baseURL:"https://users-manager.herokuapp.com/api"}),b=function(e){return _.get("/users")},w=function(e){return _.delete("/users/"+e)},C={getUsers:function(e){var t=this,s=e.commit;return f()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:a=e.sent.data,s("setUsers",a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.toString());case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},deleteUser:function(e,t){var s=this,a=e.commit;return f()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:a("deleteUser",t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.toString());case 9:case"end":return e.stop()}},e,s,[[0,6]])}))()}};a.a.use(o.a);var U,x=new o.a.Store({state:{users:[]},mutations:m,actions:C}),y=s("/ocq"),N=s("Dd8w"),k=s.n(N),S=s("M4fF"),j={data:function(){return{searchTerm:null,msg:null,requestPending:!1,API:"https://users-manager.herokuapp.com/api",filteredUsers:[]}},computed:{users:function(){return this.$store.state.users}},watch:{searchTerm:s.n(S).a.debounce((U=f()(v.a.mark(function e(t){var s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s={path:"/users"},""!==this.searchTerm&&(s.query={search:this.searchTerm}),this.$router.push(s);case 3:case"end":return e.stop()}},e,this)})),function(e){return U.apply(this,arguments)}),0),"$route.query.search":{immediate:!0,handler:function(e){e?(this.searchTerm=e,this.filteredUsers=this.users.filter(function(t){return-1!==(t.firstName+" "+t.lastName).toLowerCase().indexOf(e.toLowerCase())})):this.filteredUsers=this.users}}},methods:k()({},Object(o.b)(["getUsers","deleteUser"]),{onSubmit:function(){console.log(this.searchTerm)}}),created:function(){var e=this;return f()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUsers();case 2:e.filteredUsers=e.users;case 3:case"end":return t.stop()}},t,e)}))()}},F={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrapper"},[s("form",{staticClass:"searchbar input-group my-5",on:{submit:function(t){t.preventDefault(),e.onSubmit(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),e._v(" "),e._m(0)]),e._v(" "),0!==e.users.length?s("div",{staticClass:"grid"},e._l(e.filteredUsers,function(t){return s("div",{key:t._id,staticClass:"grid__item"},[s("div",{staticClass:"card"},[s("img",{staticClass:"card-img-top",attrs:{src:e.API+"/users/"+t._id+"/img"}}),e._v(" "),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title capitalize"},[e._v(e._s(t.firstName+" "+t.lastName))]),e._v(" "),s("small",{staticClass:"text-muted"},[e._v(e._s(t.job))]),e._v(" "),s("div",{staticClass:"card-text"},[s("a",{staticClass:"text-danger",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),e.deleteUser(t._id)}}},[e._v("delete")]),e._v(" "),s("a",{attrs:{href:"#",target:"_blank",href:e.API+"/users/"+t._id+"/pdf"}},[s("small",[e._v("click to view pdf")])])])])])])})):s("div",{staticClass:"text-center"},[e._v("\n    No Users\n  ")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text"},[t("i",{staticClass:"fa fa-search"})])])}]};var P=s("VU/8")(j,F,!1,function(e){s("ge8e")},null,null).exports,D=s("fZjL"),$=s.n(D),q=null,T={data:function(){return{newUser:{firstName:null,lastName:null,job:null,about:null},user:{_id:1,fullName:null,job:null,imgSrc:"https://users-manager.herokuapp.com/api/users/0/img"},msg:{error:null,success:null},requestPending:!1}},computed:{newUserFullName:function(){return this.newUser.firstName&&this.newUser.lastName?(this.newUser.firstName+" "+this.newUser.lastName).toLowerCase():null},fullName:function(){var e=this.newUser,t=e.firstName,s=e.lastName;return t&&s?t+" "+s:null}},methods:{onFileChange:function(e){var t=e.target.name,s=e.target.files;s.length<1||(q=new FormData).append(t,s[0],s[0].name)},onSubmit:function(){var e=this;for(var t in this.requestPending=!0,this.newUser)q.append(t,this.newUser[t]);g.a.post("https://users-manager.herokuapp.com/api/users",q,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var s=t.data,a=s.success,r=s.user;e.requestPending=!1,e.msg.success=a,e.user.job=r.job,e.user.imgSrc="https://users-manager.herokuapp.com/api/users/"+r._id+"/img",e.$store.commit("addUser",r),$()(e.newUser).forEach(function(t){return e.newUser[t]=null}),document.querySelector("#file").value=null}).catch(function(t){e.requestPending=!1;try{e.msg.error=t.response.data.error}catch(s){e.msg.error=t.toString()}})},onSuccessClose:function(){var e=this;this.msg.success=null,$()(this.user).forEach(function(t){e.user[t]=null}),this.user.imgSrc="https://users-manager.herokuapp.com/api/users/0/img"}}},A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 col-lg-8"},[s("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){t.preventDefault(),e.onSubmit(t)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.newUser.firstName,expression:"newUser.firstName",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"First Name",required:""},domProps:{value:e.newUser.firstName},on:{change:function(t){e.$set(e.newUser,"firstName",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.newUser.lastName,expression:"newUser.lastName",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Last Name",required:""},domProps:{value:e.newUser.lastName},on:{change:function(t){e.$set(e.newUser,"lastName",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"mr-sm-2",attrs:{for:"job"}},[e._v("Job")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.newUser.job,expression:"newUser.job"}],staticClass:"custom-select mr-sm-2",attrs:{id:"job",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.newUser,"job",t.target.multiple?s:s[0])}}},[s("option",[e._v("Front-end software engineer")]),e._v(" "),s("option",[e._v("Back-end software engineer")]),e._v(" "),s("option",[e._v("Full-stack software developer")])])]),e._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newUser.about,expression:"newUser.about"}],staticClass:"form-control",attrs:{cols:"4"},domProps:{value:e.newUser.about},on:{input:function(t){t.target.composing||e.$set(e.newUser,"about",t.target.value)}}}),e._v(" "),s("small",{staticClass:"form-text text-muted"},[e._v("\n          Few words about "),s("span",{class:{capitalize:e.newUserFullName},domProps:{textContent:e._s(e.newUserFullName||"the person")}}),e._v(" (optional)")])]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"file"}},[e._v("Upload user profile image")]),e._v(" "),s("input",{staticClass:"form-control-file",attrs:{type:"file",name:"file",accept:"image/*",id:"file",required:""},on:{change:e.onFileChange}}),e._v(" "),e._m(0)]),e._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[e.requestPending?e._e():s("div",[e._v("Add User")]),e._v(" "),s("vue-loading",{attrs:{loading:e.requestPending,color:"#fff",size:"7px"}})],1)])])]),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.fullName||e.msg.success?s("div",{staticClass:"col-md-6 col-lg-4"},[s("div",{staticClass:"card mb-4"},[s("img",{staticClass:"card-img-top",attrs:{id:"img",src:e.user.imgSrc}}),e._v(" "),s("div",{staticClass:"card-body"},[s("h5",{directives:[{name:"visible",rawName:"v-visible",value:e.fullName,expression:"fullName"}],staticClass:"card-title capitalize"},[e._v(e._s(e.fullName))]),e._v(" "),s("small",{directives:[{name:"visible",rawName:"v-visible",value:e.user.job,expression:"user.job"}],staticClass:"text-muted"},[e._v(e._s(e.user.job||"default"))])])]),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.msg.error?s("div",{ref:"error",staticClass:"alert alert-danger"},[e._v("\n          "+e._s(e.msg.error)+"\n          "),s("button",{staticClass:"close",on:{click:function(t){e.msg.error=null}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]):e._e()]),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.msg.success?s("div",{ref:"success",staticClass:"alert alert-success"},[e._v("\n            "+e._s(e.msg.success)+"\n          "),s("button",{staticClass:"close",on:{click:e.onSuccessClose}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]):e._e()])],1):e._e()])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("small",{staticClass:"form-text text-muted"},[this._v("Recommended file formats — "),t("b",[this._v("png")]),this._v(", "),t("b",[this._v("jpg")]),this._v(" and "),t("b",[this._v("jpeg")])])}]},z=s("VU/8")(T,A,!1,null,null,null).exports;a.a.use(y.a);var E=new y.a({mode:"history",routes:[{path:"/users",component:P},{path:"/users/new",component:z},{path:"*",redirect:"/users"}]}),R={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},L={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[t("div",{staticClass:"v-pulse v-pulse1",style:[this.spinnerStyle,this.spinnerDelay1]}),t("div",{staticClass:"v-pulse v-pulse2",style:[this.spinnerStyle,this.spinnerDelay2]}),t("div",{staticClass:"v-pulse v-pulse3",style:[this.spinnerStyle,this.spinnerDelay3]})])},staticRenderFns:[]};var M=s("VU/8")(R,L,!1,function(e){s("JBnA")},null,null).exports;a.a.component("vue-loading",M);var J=s("Rx5P"),O=s.n(J);a.a.use(O.a);var V=s("9JMe");Object(V.sync)(x,E);s("griA");new a.a({el:"#app",store:x,router:E,components:{App:l},template:"<App/>"})},ge8e:function(e,t){},griA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.987ead61415617e15740.js.map